"use strict";(self.webpackChunklibrephotos_docs=self.webpackChunklibrephotos_docs||[]).push([[2385],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>p});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(o),m=a,p=c["".concat(s,".").concat(m)]||c[m]||h[m]||r;return o?n.createElement(p,i(i({ref:t},d),{},{components:o})):n.createElement(p,i({ref:t},d))}));function p(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<r;u++)i[u]=o[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},8673:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var n=o(7462),a=(o(7294),o(3905));const r={title:"\ud83d\udcbc Job System",excerpt:"A overview of what the worker logs mean",sidebar_position:5},i=void 0,l={unversionedId:"user-guide/job-system",id:"user-guide/job-system",title:"\ud83d\udcbc Job System",description:"How does it work",source:"@site/docs/user-guide/job-system.md",sourceDirName:"user-guide",slug:"/user-guide/job-system",permalink:"/docs/user-guide/job-system",draft:!1,editUrl:"https://github.com/LibrePhotos/librephotos.docs/tree/master/docs/user-guide/job-system.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"\ud83d\udcbc Job System",excerpt:"A overview of what the worker logs mean",sidebar_position:5},sidebar:"userguide",previous:{title:"\ud83d\udcc5 Using date rules",permalink:"/docs/user-guide/settings/date-rules"},next:{title:"\ud83d\udcf1  Mobile Apps",permalink:"/docs/user-guide/mobile/"}},s={},u=[{value:"How does it work",id:"how-does-it-work",level:2},{value:"Scan Photos",id:"scan-photos",level:3},{value:"Generate Auto Albums",id:"generate-auto-albums",level:3},{value:"Generate Auto Albums Titles",id:"generate-auto-albums-titles",level:3},{value:"Train Faces",id:"train-faces",level:3},{value:"Delete Missing Photos",id:"delete-missing-photos",level:3},{value:"Calculate Clip Embedding",id:"calculate-clip-embedding",level:3},{value:"Scan Faces",id:"scan-faces",level:3},{value:"Cluster All Faces",id:"cluster-all-faces",level:3},{value:"Download Models",id:"download-models",level:3},{value:"Where to get information about previous run jobs",id:"where-to-get-information-about-previous-run-jobs",level:2},{value:"What to do when a job gets stuck",id:"what-to-do-when-a-job-gets-stuck",level:2}],d={toc:u},c="wrapper";function h(e){let{components:t,...o}=e;return(0,a.kt)(c,(0,n.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"how-does-it-work"},"How does it work"),(0,a.kt)("p",null,"The job system gives you information about the long-running jobs, including which job is running, in a queue, how far it progressed and when it started and stopped. At the moment, there are nine long-running jobs:"),(0,a.kt)("h3",{id:"scan-photos"},"Scan Photos"),(0,a.kt)("p",null,"Scan photos will look at all media files in your scan directory and will add them to the library."),(0,a.kt)("h3",{id:"generate-auto-albums"},"Generate Auto Albums"),(0,a.kt)("p",null,"This job will look at all media files that already exist. It tries to find common events by looking at the timestamp and grouping the images. If the media files are in a 1 day and 12 hour interval, they will appear in the same auto album."),(0,a.kt)("h3",{id:"generate-auto-albums-titles"},"Generate Auto Albums Titles"),(0,a.kt)("p",null,"This will create a title for the auto album based on the information of the media files in the auto album."),(0,a.kt)("h3",{id:"train-faces"},"Train Faces"),(0,a.kt)("p",null,"This will look at all faces and its groups and will give us a certainty value for the image in the group."),(0,a.kt)("h3",{id:"delete-missing-photos"},"Delete Missing Photos"),(0,a.kt)("p",null,"Finds all missing media files and removes them from the database."),(0,a.kt)("h3",{id:"calculate-clip-embedding"},"Calculate Clip Embedding"),(0,a.kt)("p",null,"Calculates the CLIP value for all images. This is used for semantic search and for finding similar images."),(0,a.kt)("h3",{id:"scan-faces"},"Scan Faces"),(0,a.kt)("p",null,"Looks for faces in the images and save them to the database"),(0,a.kt)("h3",{id:"cluster-all-faces"},"Cluster All Faces"),(0,a.kt)("p",null,"Clusters the faces into known and unknown groups."),(0,a.kt)("h3",{id:"download-models"},"Download Models"),(0,a.kt)("p",null,"This downloads the needed machine learning models to data/protected_media/data_models/."),(0,a.kt)("h2",{id:"where-to-get-information-about-previous-run-jobs"},"Where to get information about previous run jobs"),(0,a.kt)("p",null,"When you are logged in as an admin, click on the profile picture in the top right corner and then navigate to ",(0,a.kt)("inlineCode",{parentName:"p"},"Admin Area"),". You should see the jobs at the bottom of the page in a table called ",(0,a.kt)("inlineCode",{parentName:"p"},"Worker Logs")),(0,a.kt)("h2",{id:"what-to-do-when-a-job-gets-stuck"},"What to do when a job gets stuck"),(0,a.kt)("p",null,"When a job gets stuck, that usually means, that it crashed, and we could not catch the error correctly. You can just remove the entry from the list to start another job."))}h.isMDXComponent=!0}}]);